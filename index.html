<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ビンゴカードジェネレータ</title>
</head>
<body>
<canvas id="canvas"></canvas>
<script>

// 設定
const minNum = 1;   // マスに入れる数字の最小値
const maxNum = 75;  // マスに入れる数字の最大値

function* makeRandomInt(min, max) {
    while (true) {
        yield min + Math.floor(Math.random() * (max - min + 1));
    }
}

function* take(it, count) {
    for (let i = 0; i < count; i++) {
        yield it.next().value;
    }
}

const img = new Image();

img.addEventListener('load', onImgLoad);
img.src = 'EzYm4SQVgAE7wXi.png';

function onImgLoad() {
    const canvas = document.querySelector('#canvas');
    canvas.width = img.width;
    canvas.height = img.height;

    const ctx = canvas.getContext('2d');
    ctx.drawImage(img, 0, 0);

    const cellXs = [65, 182, 306, 426, 557, 677];
    const cellYs = [200, 315, 439, 567, 691, 818];
    const borderWidth = 5;

    const fontSize = 60;
    ctx.font = fontSize + 'px serif';

    for (let i = 0; i < cellYs.length - 1; i++) {
        for (let j = 0; j < cellXs.length - 1; j++) {
            if (i == 2 && j == 2) {
                continue;
            }
            const left   = cellXs[j];
            const top    = cellYs[i];
            const right  = cellXs[j + 1] - borderWidth;
            const bottom = cellYs[i + 1] - borderWidth;

            const x = left + (right - left - fontSize) / 2;
            const y = bottom - (bottom - top - fontSize) / 2;
            const num = makeRandomInt(minNum, maxNum).next().value;
            ctx.fillText(num, x, y);
        }
    }
}
</script>
</body>
</html>
